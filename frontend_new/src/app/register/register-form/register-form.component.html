<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div class="form-group">

    <div class="form-item">
      <input type="text" placeholder="Name" formControlName="name"
             class="form-control" [ngClass]="{ 'is-invalid': submitted && getFormControls.name.errors }"/>
      <div *ngIf="submitted && getFormControls.name.errors" class="invalid-feedback text-left">
        <div *ngIf="getFormControls.name.errors.required">Name is required</div>
        <div *ngIf="getFormControls.name.errors.maxlength">Name cannot be longer than 100 characters</div>
      </div>
    </div>

    <div class="form-item">
      <input type="email" placeholder="Email" formControlName="email"
             class="form-control" [ngClass]="{ 'is-invalid': submitted && getFormControls.email.errors }"/>
      <div *ngIf="submitted && getFormControls.email.errors" class="invalid-feedback text-left">
        <div *ngIf="getFormControls.email.errors.required">Email is required</div>
        <div *ngIf="getFormControls.email.errors.minlength">Email has to contain at least 3 characters</div>
        <div *ngIf="getFormControls.email.errors.maxlength">Email cannot be longer than 50 characters</div>
      </div>
    </div>

    <div class="form-item">
      <input type="password" formControlName="password"
             class="form-control" placeholder="Password"
             [ngClass]="{ 'is-invalid': submitted && getFormControls.password.errors }"/>
      <div *ngIf="submitted && getFormControls.password.errors" class="invalid-feedback text-left">
        <div *ngIf="getFormControls.password.errors.required">Password is required</div>
        <div *ngIf="getFormControls.password.errors.minlength">Password has to contain at least 6 characters</div>
        <div *ngIf="getFormControls.password.errors.maxlength">Password cannot be longer than 40 characters</div>
      </div>
    </div>

    <div class="form-group">
      <input type="password" formControlName="repeatPassword"
             class="form-control" placeholder="Repeat password"
             [ngClass]="{ 'is-invalid': submitted && getFormControls.repeatPassword.errors }"/>
      <div *ngIf="submitted && getFormControls.repeatPassword.errors" class="invalid-feedback">
        <div *ngIf="getFormControls.repeatPassword.errors.mustMatch">Passwords must match</div>
      </div>
    </div>

    <div class="form-group text-center">
      <button [disabled]="loading" class="btn btn-primary">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Register
      </button>
    </div>

  </div>
</form>

<div class="registration-success" *ngIf="registrationSuccess">Registration success! {{message}}</div>
<div class="registration-error" *ngIf="registrationError">Account cannot be registered. {{message}}</div>
<span class="login-link">Back to <a href="/login">login</a></span>
